<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Global leaderboards - see top performers, compare your rank, and earn achievements in the Dream Centre Proficiency Portal.">
    <title>Global Leaderboards | Dream Centre</title>
    <link rel="icon" type="image/png" href="/logo.png">
    <link rel="stylesheet" href="css/main.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>

<body class="dashboard-page">
    <header class="dashboard-header">
        <div class="page-wrap dashboard-header-inner">
            <div class="logo-area">
                <h1>Global Rankings</h1>
            </div>
            <nav class="dashboard-nav">
                <a href="/dashboard.html" class="nav-button secondary">Back to Dashboard</a>
            </nav>
        </div>
    </header>

    <main class="leaderboard-wrapper">
        <!-- Rank Hero Section -->
        <div class="rank-hero" id="my-rank-hero">
            <div class="my-rank-info">
                <h2>Your Global Rank</h2>
                <div class="rank-display">
                    <span class="big-rank" id="hero-rank">--</span>
                    <span class="percentile" id="hero-percentile">Top --%</span>
                </div>
                <div class="rank-trend" id="hero-trend">
                    <span>Loading trend...</span>
                </div>
            </div>
            <div class="achievements-mini">
                <h2 style="font-size: 1rem; color: rgba(255,255,255,0.8);">Your Achievements</h2>
                <div class="achievements-preview" id="hero-badges"></div>
                <a href="#badges-section" class="view-all-badges">View All Badges â†’</a>
            </div>
        </div>

        <!-- Controls Bar -->
        <div class="controls-bar">
            <div class="toggle-group">
                <button class="toggle-btn active" id="btn-new" onclick="setPattern('new_pattern')">
                    <span class="toggle-icon">N</span>
                    <span>New Pattern</span>
                </button>
                <button class="toggle-btn" id="btn-std" onclick="setPattern('standard')">
                    <span class="toggle-icon">S</span>
                    <span>Standard</span>
                </button>
            </div>
            <select class="filter-select" id="timeframe-select" onchange="setTimeframe(this.value)">
                <option value="all">All Time</option>
                <option value="month">This Month</option>
                <option value="week">This Week</option>
            </select>
        </div>

        <!-- Category Tabs -->
        <div class="category-tabs" id="category-tabs"></div>

        <!-- Loading State -->
        <div id="loading-state" class="loading-container" style="display: none;">
            <div class="skeleton-podium">
                <div class="skeleton skeleton-box" style="height: 120px; width: 80px;"></div>
                <div class="skeleton skeleton-box" style="height: 160px; width: 80px;"></div>
                <div class="skeleton skeleton-box" style="height: 100px; width: 80px;"></div>
            </div>
            <div class="skeleton-list">
                <div class="skeleton skeleton-row"></div>
                <div class="skeleton skeleton-row"></div>
                <div class="skeleton skeleton-row"></div>
            </div>
        </div>

        <!-- Podium Section -->
        <div class="podium-section" id="podium-section" style="display: none;">
            <div class="podium-container">
                <div class="podium-place podium-2" id="podium-2">
                    <div class="podium-avatar-wrapper">
                        <div class="podium-avatar" id="podium-avatar-2"></div>
                        <span class="podium-medal">ðŸ¥ˆ</span>
                    </div>
                    <div class="podium-name" id="podium-name-2">--</div>
                    <div class="podium-score" id="podium-score-2">--</div>
                    <div class="podium-stand">2</div>
                </div>
                <div class="podium-place podium-1" id="podium-1">
                    <div class="crown-wrapper">
                        <span class="crown">ðŸ‘‘</span>
                    </div>
                    <div class="podium-avatar-wrapper">
                        <div class="podium-avatar" id="podium-avatar-1"></div>
                        <span class="podium-medal">ðŸ¥‡</span>
                    </div>
                    <div class="podium-name" id="podium-name-1">--</div>
                    <div class="podium-score" id="podium-score-1">--</div>
                    <div class="podium-stand">1</div>
                </div>
                <div class="podium-place podium-3" id="podium-3">
                    <div class="podium-avatar-wrapper">
                        <div class="podium-avatar" id="podium-avatar-3"></div>
                        <span class="podium-medal">ðŸ¥‰</span>
                    </div>
                    <div class="podium-name" id="podium-name-3">--</div>
                    <div class="podium-score" id="podium-score-3">--</div>
                    <div class="podium-stand">3</div>
                </div>
            </div>
        </div>

        <!-- Leaderboard List -->
        <div class="leaderboard-list" id="leaderboard-list">
            <div class="leaderboard-cards" id="leaderboard-body"></div>
        </div>

        <!-- Achievements Section -->
        <div id="badges-section" class="badges-section">
            <div class="section-header">
                <h2>Achievements Gallery</h2>
                <p class="section-subtitle">Collect badges by completing challenges</p>
            </div>
            <div class="badges-grid" id="badges-grid"></div>
        </div>
    </main>

    <!-- Comparison Modal -->
    <div class="modal-overlay" id="compare-modal" onclick="closeModal(event)">
        <div class="modal-card compare-modal" onclick="event.stopPropagation()">
            <button onclick="closeModal(null)" class="modal-close">&times;</button>

            <div class="compare-header">
                <h3>Performance Comparison</h3>
            </div>

            <div class="compare-vs-row">
                <div class="compare-side compare-you">
                    <span class="compare-label">YOU</span>
                    <div class="compare-avatar-large" id="comp-you-avatar"></div>
                    <span class="compare-name" id="comp-you-name">You</span>
                </div>
                <div class="vs-badge-wrapper">
                    <span class="vs-badge">VS</span>
                </div>
                <div class="compare-side compare-them">
                    <span class="compare-label" id="comp-them-label">Them</span>
                    <div class="compare-avatar-large" id="comp-them-avatar"></div>
                    <span class="compare-name" id="comp-them-name">--</span>
                </div>
            </div>

            <div id="compare-content" class="compare-content"></div>

            <div class="compare-footer">
                <a href="/dashboard.html" class="btn btn-primary">Start Practice â†’</a>
            </div>
        </div>
    </div>

    <script src="toast.js"></script>
    <script type="module" src="/js/pages/leaderboards.js"></script>
    <script src="theme-toggle.js"></script>
</body>

</html>
