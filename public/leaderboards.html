<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Leaderboards | Dream Centre</title>
    <link rel="stylesheet" href="theme.css">

</head>

<body class="dashboard-page">
    <header class="test-header">
        <div class="logo">Global <span>Rankings</span></div>
        <a href="/dashboard.html" class="nav-button secondary">Back to Dashboard</a>
    </header>

    <main class="leaderboard-wrapper">
        <div class="rank-hero" id="my-rank-hero">
            <div class="my-rank-info">
                <h2>Your Global Rank</h2>
                <div style="display: flex; align-items: baseline; gap: 10px; justify-content: inherit;">
                    <span class="big-rank" id="hero-rank">--</span>
                    <span class="percentile" id="hero-percentile">Top --%</span>
                </div>
                <div class="rank-trend" id="hero-trend">
                    <span>Loading trend...</span>
                </div>
            </div>
            <div class="achievements-mini">
                <h2 style="font-size: 1rem; color: rgba(255,255,255,0.8);">Your Achievements</h2>
                <div class="achievements-preview" id="hero-badges"></div>
                <a href="#badges-section" class="view-all-badges">View All Badges &rarr;</a>
            </div>
        </div>

        <div class="controls-bar">
            <div class="toggle-group">
                <button class="toggle-btn active" id="btn-new" onclick="setPattern('new_pattern')">New Pattern</button>
                <button class="toggle-btn" id="btn-std" onclick="setPattern('standard')">Standard</button>
            </div>
            <select class="filter-select" id="timeframe-select" onchange="setTimeframe(this.value)">
                <option value="all">All Time</option>
                <option value="month">This Month</option>
                <option value="week">This Week</option>
            </select>
        </div>

        <div class="category-tabs" id="category-tabs"></div>

        <div id="loading-state" style="text-align: center; padding: 3rem; display: none;">
            <div class="spinner"></div>
            <p>Updating standings...</p>
        </div>

        <table class="rank-table">
            <tbody id="leaderboard-body"></tbody>
        </table>

        <div id="badges-section"
            style="margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
            <h2 style="margin-bottom: 1rem; color: var(--text-primary);">Achievements Gallery</h2>
            <div class="badges-grid" id="badges-grid"></div>
        </div>
    </main>

    <div class="modal-overlay" id="compare-modal" onclick="closeModal(event)">
        <div class="modal-card" onclick="event.stopPropagation()">
            <button onclick="closeModal(null)"
                style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-muted);">&times;</button>

            <div class="compare-header">
                <h3>Performance Comparison</h3>
                <div class="vs-row">
                    <div style="text-align: right;">
                        <span id="comp-you-name"
                            style="color: var(--primary); font-weight: 700; display: block;">You</span>
                    </div>
                    <span class="vs-badge">VS</span>
                    <div style="text-align: left;">
                        <span id="comp-them-name"
                            style="color: var(--error); font-weight: 700; display: block;">Them</span>
                    </div>
                </div>
            </div>

            <div id="compare-content" style="margin-bottom: 2rem;"></div>

            <div style="text-align: center;">
                <a href="/dashboard.html" class="nav-button secondary"
                    style="width: 100%; text-align: center; display: inline-block; background: var(--gradient-primary); color: white;">Start
                    Practice to Improve</a>
            </div>
        </div>
    </div>

    <button class="theme-toggle" aria-label="Toggle theme">
        <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
        <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
    </button>

    <script src="toast.js"></script>
    <script type="module" src="/js/pages/leaderboards.js"></script>
    <script src="theme-toggle.js"></script>
</body>

</html>