/* --- MODERN YELLOW & DARK THEME --- */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');

/* --- Pico Global Styles & Refinements --- */
/* These styles apply to the pages using Pico.css (Dashboard, Admin, etc.) */
/* 1. Default Theme (NEW Light Mode) */
:root {
    --primary-yellow: #f59e0b;
    --background-color: #ffffff; /* Changed to pure white */
    --card-background: #f9fafb; /* A very light gray for the card */
    --text-color: #111827; /* Darker text for better contrast */
    --text-muted: #6b7280;
    --border-color: #e5e7eb;
    --dark-text-on-btn: #ffffff;
}

/* 2. Dark Mode Theme (Stays the same) */
@media (prefers-color-scheme: dark) {
    :root {
        --background-color: #121212;
        --card-background: rgba(30, 30, 30, 0.75);
        --text-color: #e0e0e0;
        --text-muted: #888888;
        --border-color: #2e2e2e;
    }
}
main.container, .container {
  max-width: 960px;
}
article, table, input, button, select {
  border-radius: var(--pico-border-radius);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}
body {
  font-family: 'Inter', sans-serif;
}
h1, h2, h3, h4, h5, h6 {
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
}


/* --- APP-SPECIFIC STYLES (for Pico pages) --- */
.passage span.correct { color: var(--pico-color-green-500); }
.passage span.incorrect { color: var(--pico-color-red-600); text-decoration: underline; }
.hidden { display: none; }
.test-links { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
.results-grid { display: grid; grid-template-columns: 1fr 2fr; gap: 2rem; align-items: center; }
.score-summary { text-align: center; }
.progress-circle { width: 150px; height: 150px; border-radius: 50%; display: flex; flex-direction: column; justify-content: center; align-items: center; background: conic-gradient(var(--pico-primary) 0deg, var(--pico-form-element-background-color) 0deg); margin: 0 auto 1rem; font-size: 1.2em; transition: background 1s ease-in-out; }
.progress-circle span { font-size: 2.5em; font-weight: bold; }
.result-card { border: 1px solid var(--pico-form-element-border-color); border-radius: var(--pico-border-radius); padding: 1rem; margin-bottom: 1rem; }
.test-header { width: 100%; margin-bottom: 2rem; }
.progress-container { width: 100%; background-color: var(--pico-form-element-background-color); border: 1px solid var(--pico-form-element-border-color); border-radius: var(--pico-border-radius); padding: 0.25rem; }
.progress-bar { width: 33%; height: 1rem; background-color: var(--pico-primary); border-radius: calc(var(--pico-border-radius) / 2); transition: width 0.5s ease-in-out; }


/* --- CUSTOM LOGIN/SIGNUP PAGE STYLES --- */
/* These styles ONLY apply if the <body> tag has the class "auth-page" */
:root {
    --primary-yellow: #f59e0b;
    --dark-gray: #121212;
    --medium-gray: #1e1e1e;
    --light-gray: #2e2e2e;
    --text-color: #706363;
    --text-muted: #888888;
    --dark-text-on-btn: #ffffff;
}
@media (prefers-color-scheme: dark) {
    :root {
        --background-color: #121212;
        --card-background: rgba(30, 30, 30, 0.75);
        --text-color: #e0e0e0;
        --text-muted: #888888;
        --border-color: #2e2e2e;
    }
}
body.auth-page {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    display: flex;
    flex-direction: column; /* This is the fix */
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: var(--background-color);
    padding: 2rem 0;
    box-sizing: border-box;
    overflow-x: hidden;
}
/* --- Animated Background --- */
.background-shapes {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    overflow-x: hidden;
}
.background-shapes::before, .background-shapes::after {
    content: '';
    position: absolute;
    width: 400px;
    height: 400px;
    background: linear-gradient(45deg, var(--primary-yellow), #ff9800);
    border-radius: 50%;
    filter: blur(150px);
    opacity: 0.3;
    animation: spin 20s linear infinite;
}
.background-shapes::after {
    bottom: -100px;
    right: -100px;
    animation-delay: -10s;
}
@keyframes spin {
    0% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.2); }
    100% { transform: rotate(360deg) scale(1); }
}

/* --- Auth Card Styling --- */
.auth-page .auth-container { position: relative; z-index: 1; padding: 1rem; }

.auth-page .auth-card {
    width: 90%; /* This allows the card to shrink on smaller screens */
    max-width: 420px; /* This sets a maximum size for larger screens */
    padding: 40px;
    background-color: var(--card-background);
    border-radius: 16px;
    backdrop-filter: blur(10px);
    border: 1px solid var(--border-color);
    text-align: center;
    color: var(--text-color);
    transition: background-color 0.5s ease;
}

.auth-page .logo { width: 80px; margin-bottom: 1rem; }
.auth-page .auth-card h2 { font-size: 2rem; font-weight: 700; margin: 0; }
.auth-page .auth-card .subtitle { color: var(--text-muted); margin-bottom: 2rem; }

/* --- Animated Input Fields (WITH FIX) --- */
.auth-page .input-group {
    position: relative;
    margin-bottom: 1.5rem;
}
.auth-page .input-group input {
    width: 100%;
    padding: 10px 40px 10px 0; /* Add 40px padding on the right for the icon */
    background: transparent;
    border: none;
    border-bottom: 2px solid var(--light-gray);
    color: var(--text-color);
    font-size: 1rem;
    outline: none;
    box-sizing: border-box; /* Important for correct padding calculation */
}
.auth-page .input-group label {
    position: absolute;
    top: 10px;
    left: 0;
    color: var(--text-muted);
    pointer-events: none;
    transition: all 0.3s ease;
}
.auth-page .input-group input:focus + label,
.auth-page .input-group input:valid + label {
    top: -12px;
    font-size: 0.8rem;
    color: var(--primary-yellow);
}
.auth-page .peek-button {
    position: absolute;
    top: 10px; /* Align with the text, not the center of the group */
    right: 5px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    width: 24px;
    height: 24px;
    color: var(--text-muted);
}

/* --- Buttons and Links --- */
.auth-page #login-form button[type="submit"], 
.auth-page #signup-form button[type="submit"] {
    width: 100%;
    max-width: 380px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin: 0 auto;
    padding: 12px;
    border: none;
    border-radius: 8px;
    background-color: var(--primary-yellow);
    color: var(--dark-text-on-btn);
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1rem;
}
.auth-page #login-form button[type="submit"]:hover, 
.auth-page #signup-form button[type="submit"]:hover {
    box-shadow: 0 0 15px var(--primary-yellow);
    transform: translateY(-2px);
}
.auth-page .separator { margin: 1.5rem 0; color: var(--text-muted); }
.auth-page .social-button { display: flex; justify-content: center; align-items: center; gap: 10px; width: 100%; max-width: 380px; margin: 0 auto; box-sizing: border-box; padding: 12px; border: 1px solid var(--light-gray); border-radius: 8px; background-color: transparent; color: var(--text-color); text-decoration: none; transition: all 0.3s ease; }
.auth-page .social-button:hover { background-color: var(--light-gray); color: var(--dark-text-on-btn)}
.auth-page .social-button img { width: 20px; }
.auth-page .footer-link { margin-top: 1.5rem; color: var(--text-muted); }
.auth-page .footer-link a { color: var(--primary-yellow); text-decoration: none; }
.auth-page .error-text { color: #ff5252; min-height: 1.2em; text-align: left; font-size: 0.9rem; }

/* --- Mobile Optimization --- */
/* These styles will ONLY apply to screens 768px wide or smaller */
@media (max-width: 768px) {
    body.auth-page {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-color: var(--background-color);
    box-sizing: border-box;
    overflow-x: hidden;
}
    .auth-page .auth-card {
        width: 100%;
        height: 100vh; /* Make the card fill the entire screen height */
        padding: 30px;
        /* border: none;
        border-radius: 0; 
        box-shadow: none; 
        backdrop-filter: none;  */
        background-color: var(--background-color); /* Use a solid background */
        
        /* Center the form content vertically on the mobile screen */
        display: flex;
        flex-direction: column;
        justify-content: center;
        box-sizing: border-box; /* Ensure padding is included in height calculation */
    }
}

/* Mobile Warning */
.mobile-warning {
    width: 100%;
    overflow-x: hidden;
    justify-content: center;
    background-color: var(--primary-yellow);
    color: var(--dark-text-on-btn);
    text-align: center;
    padding: 0.75rem;
    font-size: 0.9rem;
    font-weight: 500;
    box-sizing: border-box;
    /* New styles for positioning */
    position: fixed;
    top: 0;
    left: 0; /* Add this */
    z-index: 1001;      /* Add this to place it on top */
}
/* This new class adds padding to the body ONLY when the banner is visible,
   preventing the banner from covering the top of the login card. */
body.mobile-warning-active {
    padding-top: 50px; /* Adjust this value if your banner is taller */
}

/* This adds padding to the top of the body to prevent the banner from covering the content */
body.mobile-device {
    padding-top: 50px; /* Adjust this value to match the banner's height */
}












/* --- Progress Bar Styles --- */

/* The outer container or "track" of the progress bar */
.progress-container {
    width: 100%;
    background-color: var(--background-color);
    border: 1px solid var(--border-color);
    border-radius: 8px; /* Or use var(--pico-border-radius) if you prefer */
    padding: 0.25rem;
}

/* The inner bar that fills up to show progress */
.progress-bar {
    width: 33%; /* This is the default starting width for stage 1 */
    height: 1rem;
    background-color: var(--primary-yellow);
    border-radius: 4px; /* A slightly smaller radius for the inner bar */
    transition: width 0.5s ease-in-out; /* Smoothly animates the width change */
}
















/* --- DASHBOARD PAGE STYLES --- */
body.dashboard-page {
    background-color: var(--background-color);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
}

.dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 2rem;
    background-color: var(--card-background);
    border-bottom: 1px solid var(--border-color);
}

.logo-area {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.logo-area .logo {
    width: 40px;
    height: 40px;
}

.logo-area h1 {
    font-size: 1.25rem;
    margin: 0;
}

.dashboard-nav {
    display: flex;
    gap: 1rem;
}

.nav-button {
    padding: 0.5rem 1rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    background: transparent;
    color: var(--text-color);
    text-decoration: none;
    cursor: pointer;
    transition: all 0.2s ease;
}

.nav-button.secondary {
    border-color: var(--text-muted);
}

.nav-button:hover {
    background-color: var(--border-color);
}

.dashboard-content {
    padding: 2rem;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

.card {
    background-color: var(--card-background);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 2rem;
}

.start-test-card {
    text-align: center;
}

.start-test-card button {
    width: 100%;
    padding: 12px;
    border: none;
    border-radius: 8px;
    background-color: var(--primary-yellow);
    color: var(--dark-text-on-btn);
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    margin-top: 1rem;
    transition: all 0.3s ease;
}

.start-test-card button:hover {
    box-shadow: 0 0 15px var(--primary-yellow);
    transform: translateY(-2px);
}

.past-results-card #results-summary .session {
    padding-bottom: 1rem;
    margin-bottom: 1rem;
    border-bottom: 1px solid var(--border-color);
}

.past-results-card #results-summary .session:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

/* --- INSTRUCTIONS MODAL STYLES --- */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: var(--card-background);
    padding: 2rem;
    border-radius: 16px;
    border: 1px solid var(--border-color);
    max-width: 600px;
    width: 90%;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
}

.modal-content header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 1rem;
    margin-bottom: 1rem;
}

.modal-content header h2 {
    margin: 0;
}

.close-btn {
    background: none;
    border: none;
    font-size: 2rem;
    cursor: pointer;
    color: var(--text-muted);
}

.modal-content footer {
    text-align: right;
    margin-top: 1.5rem;
}

.modal-content footer button {
    background-color: var(--primary-yellow);
    color: var(--dark-text-on-btn);
    cursor: pointer; /* This is the fix */
}

/* Blur effect for the main content when modal is open */
body.modal-open .dashboard-header,
body.modal-open .dashboard-content {
    filter: blur(5px);
}

/* In public/style.css */

/* --- INSTRUCTIONS MODAL STYLES (FINAL VERSION) --- */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1001; /* Highest z-index to ensure it's on top of everything */
    padding: 1rem; /* Add padding for small screens */
    box-sizing: border-box;
}

.modal-content {
    background-color: var(--card-background);
    padding: 2rem;
    border-radius: 16px;
    border: 1px solid var(--border-color);
    max-width: 600px;
    width: 100%;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
    display: flex; /* Enable flexbox for better layout control */
    flex-direction: column;
    max-height: 90vh; /* Prevent modal from being taller than the screen */
}

.modal-content header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 1rem;
    margin-bottom: 1rem;
    flex-shrink: 0; /* Prevent header from shrinking */
}

.modal-content header h2 {
    margin: 0;
}

.close-btn {
    background: none;
    border: none;
    font-size: 2rem;
    cursor: pointer;
    color: var(--text-muted);
}

/* This is the key fix for mobile */
.modal-content section {
    overflow-y: auto; /* Make the main content scrollable */
    flex-grow: 1; /* Allow it to take up available space */
}

.modal-content footer {
    text-align: right;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-color);
    flex-shrink: 0; /* Prevent footer from shrinking */
}

.modal-content footer button {
    background-color: var(--primary-yellow);
    color: var(--dark-text-on-btn);
    cursor: pointer;
}

/* This blurs the background content when the modal is open */
body.modal-open > .dashboard-header,
body.modal-open > .dashboard-content {
    filter: blur(5px);
}









/* --- ADMIN PAGE STYLES --- */
body.admin-page {
    background-color: var(--background-color);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
}

.admin-content {
    padding: 2rem;
}

.admin-content h2 {
    margin-bottom: 1.5rem;
}

.admin-content .card {
    background-color: var(--card-background);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 2rem;
    margin-bottom: 2rem;
}

/* Make table scrollable on small screens */
.table-container {
    overflow-x: auto;
    max-height: 500px; /* Set a maximum height for the table area */
    overflow-y: auto; /* Add a vertical scrollbar when content exceeds the height */
    border: 1px solid var(--border-color);
    border-radius: var(--pico-border-radius);
}

.admin-page .table-container table {
    margin-bottom: 0; /* Remove default margin to prevent double borders */
}

/* Make the table header sticky */
.admin-page thead th {
    position: sticky;
    top: 0;
    background-color: var(--card-background);
    z-index: 1; /* Ensures header stays on top of scrolling content */
}

.admin-content table {
    width: 100%;
    border-collapse: collapse;
}

.admin-content th, .admin-content td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

.admin-content th {
    font-weight: 700;
}

.content-management {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
}

.content-management h3 {
    margin-top: 0;
    margin-bottom: 1.5rem;
}

.content-management form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.content-management input,
.content-management textarea,
.content-management select {
    width: 100%;
    padding: 10px;
    background: var(--background-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    color: var(--text-color);
    font-size: 1rem;
    box-sizing: border-box;
}

.content-management button {
    padding: 12px;
    border: none;
    border-radius: 8px;
    background-color: var(--primary-yellow);
    color: var(--dark-text-on-btn);
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
}

.content-management button:hover {
    box-shadow: 0 0 15px var(--primary-yellow);
    transform: translateY(-2px);
}











/* In public/style.css */

/* --- TEST PAGE STYLES --- */
body.test-page {
    background-color: var(--background-color);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    display: flex;
    justify-content: center;
    align-items: flex-start; /* Align to top */
    min-height: 100vh;
    padding: 2rem;
}

.test-container {
    width: 100%;
    max-width: 800px;
    background-color: var(--card-background);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 2rem;
    position: relative; /* Required for sticky positioning of children */
}

.stats-bar {
    display: flex;
    justify-content: space-around;
    padding: 1rem 0;
    margin-bottom: 1.5rem;
    background-color: var(--background-color);
    border-radius: 8px;
    position: sticky;
    top: 0;
    z-index: 10; /* Ensures it stays on top of other content */
}

.stat-item {
    text-align: center;
}

.stat-item span {
    font-size: 0.9rem;
    color: var(--text-muted);
}

.stat-item p {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-yellow);
    margin: 0.25rem 0 0 0;
    /* This is the fix for the shifting timer */
    font-variant-numeric: tabular-nums;
}

.passage-card {
    background-color: var(--background-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1.5rem;
    font-size: 1.2rem;
    line-height: 1.8;
    margin-bottom: 1.5rem;
    max-height: 250px;
    overflow-y: auto;
}

/* --- These are the fixes for the error highlighting --- */
.passage-card span.correct {
    color: #4ade80; /* A pleasant green */
}
.passage-card span.incorrect {
    color: #f87171; /* A softer red */
    text-decoration: underline;
}
.passage-card span.current {
    background-color: var(--primary-yellow);
    color: var(--dark-text-on-btn);
    border-radius: 2px;
}
/* --- End of fixes --- */

.test-page textarea {
    width: 100%;
    padding: 1.5rem;
    font-size: 1.2rem;
    line-height: 1.8;
    background-color: var(--background-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    color: var(--text-color);
    resize: none;
    box-sizing: border-box;
}

.test-page textarea:focus {
    border-color: var(--primary-yellow);
    box-shadow: 0 0 10px var(--primary-yellow);
}
/* In public/style.css */

/* Blinking cursor for the current character in the typing test */
.passage-card span.current {
    background-color: var(--primary-yellow);
    color: var(--dark-text-on-btn);
    border-radius: 2px;
}












/* --- LETTER TEST PAGE STYLES --- */
.test-page .test-container {
    display: flex;
    flex-direction: column;
    height: calc(100vh - 4rem); /* Fill screen height minus padding */
}
.letter-body {
    flex-grow: 1; /* Allow this section to grow */
    display: flex;
    flex-direction: column;
    min-height: 0; /* Important fix for flexbox overflow */
}
.question-card {
    background-color: var(--background-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1rem 1.5rem;
    margin-bottom: 1.5rem;
    flex-shrink: 0;
}
.editor-container {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    background-color: var(--card-background);
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    min-height: 0;
}
.editor-toolbar {
    display: flex;
    flex-wrap: wrap; /* Allow items to wrap on small screens */
    gap: 0.5rem;
    padding: 0.5rem;
    border-bottom: 1px solid var(--border-color);
    flex-shrink: 0;
}
.toolbar-btn {
    width: 36px;
    height: 36px;
    border: none;
    background-color: transparent;
    color: var(--text-muted);
    font-size: 1rem;
    cursor: pointer;
    border-radius: 4px;
}
.toolbar-select {
    background-color: transparent;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    color: var(--text-color);
    padding: 0.25rem 0.5rem;
}
.toolbar-btn:hover, .toolbar-select:hover {
    background-color: var(--border-color);
}
.text-editor {
    flex-grow: 1;
    padding: 1.5rem;
    font-size: 1rem;
    line-height: 1.6;
    color: var(--text-color);
    outline: none;
    overflow-y: auto; /* Adds a scrollbar when content overflows */
}
.test-footer {
    display: flex;
    justify-content: flex-end; /* Push button to the right */
    align-items: center;
    margin-top: 1.5rem;
    flex-shrink: 0;
}
.timer-display {
    font-size: 1.2rem;
    color: var(--text-muted);
}
.timer-display strong {
    color: var(--primary-yellow);
    font-variant-numeric: tabular-nums;
}
.submit-btn-main {
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    background-color: var(--primary-yellow);
    color: var(--dark-text-on-btn);
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
}

.submit-btn-main:hover {
    box-shadow: 0 0 15px var(--primary-yellow);
    transform: translateY(-2px);
}








/* In public/style.css */

/* --- EXCEL TEST PAGE STYLES --- */
.excel-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.instructions-card, .upload-card {
    background-color: var(--background-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 1.5rem;
}

.instructions-card a[role="button"] {
    width: 100%;
}

.upload-card h3 {
    margin-top: 0;
}

.upload-card input[type="file"] {
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

/* --- LOADING OVERLAY STYLES --- */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    color: white;
}

.spinner {
    width: 60px;
    height: 60px;
    border: 5px solid #fff;
    border-top-color: var(--primary-yellow);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 1rem;
}

/* This reuses the keyframes from your login page background */
@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}











/* In public/style.css */
body.results-page {
    background-color: var(--background-color);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    padding: 2rem;
    display: grid; /* Add this */
    place-items: center; /* Add this */
    min-height: 100vh; /* Add this */
    box-sizing: border-box; /* Add this */
}

.results-card-main {
    max-width: 900px;
    margin: auto;
    background-color: var(--card-background);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 2rem;
}

.results-header {
    text-align: center;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 1.5rem;
    margin-bottom: 2rem;
    transition: all 0.5s ease;
}

.results-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    align-items: center;
}

.skills-chart-container {
    padding-right: 2rem;
    border-right: 1px solid var(--border-color);
}

.skills-chart-container {
    padding-right: 2rem;
    border-right: 1px solid var(--border-color);
    display: flex; /* Helps center the content */
    flex-direction: column;
    align-items: center;
}

/* This is the new wrapper for the chart */
.chart-circle-wrapper {
    border: 2px solid var(--border-color);
    border-radius: 50%; /* This makes it a circle */
    padding: 1.5rem; /* This gives the labels space to breathe */
    max-width: 300px; /* Constrain the size */
    width: 100%;
    aspect-ratio: 1 / 1; /* Ensures it remains a perfect circle */
}

.result-detail-card {
    background: var(--background-color);
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1rem;
}

.results-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-color);
}

/* In public/style.css */

.results-footer button#share-btn.facebook {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    background-color: #1877F2; /* Official Facebook Blue */
    color: white;
}

.results-footer button#share-btn.facebook:hover {
    background-color: #166fe5; /* Slightly darker blue */
    box-shadow: 0 0 15px rgba(24, 119, 242, 0.5);
}














/* --- FIX for Small Laptop Screens --- */
/* This media query applies only when the screen height is 720px or less */
@media (max-height: 720px) {
    .passage-card {
        max-height: 180px; /* Reduce height on shorter screens */
        font-size: 1.1rem; /* Slightly smaller font to fit more text */
    }

    .test-page textarea {
        min-height: 120px; /* Reduce height of the typing area */
        font-size: 1.1rem;
    }
}
/* --- End of Small Screen Fix --- */












/* In public/style.css */

/* --- GLOBAL MOBILE OPTIMIZATIONS (for all internal pages) --- */
@media (max-width: 768px) {
    /* Reduce padding on all main pages for more space */
    body.dashboard-page,
    body.admin-page,
    body.test-page,
    body.results-page {
        padding: 1rem;
    }

    /* Adjust header for smaller screens */
    .dashboard-header {
        padding: 1rem;
        flex-direction: column;
        gap: 1rem;
    }

    /* --- Dashboard Mobile Styles --- */
    .dashboard-content {
        /* Stack the cards vertically */
        grid-template-columns: 1fr;
        padding: 1rem;
    }

    /* --- Admin Panel Mobile Styles --- */
    .admin-content {
        padding: 1rem;
    }
    .content-management {
        /* Stack the content management cards */
        grid-template-columns: 1fr;
    }

    /* --- Test Pages Mobile Styles --- */
    .test-container {
        padding: 1rem;
        /* Make the test container fill the full screen height on mobile */
        height: calc(100vh - 2rem);
    }
    .test-header hgroup h2 {
        font-size: 1.25rem; /* Make titles smaller on mobile */
    }
    
    /* Stack the Excel page layout vertically */
    .excel-content {
        grid-template-columns: 1fr;
    }

    /* --- NEW: Results Page Mobile Styles --- */
    .results-page .container {
        margin: 0;
        padding: 0;
    }
    .score-section, .skills-layout {
        flex-direction: column; /* Stack the cards vertically */
    }
    .card {
        min-width: unset; /* Allow cards to shrink */
    }
}

/* --- TYPING TEST MOBILE OPTIMIZATION --- */
/* This applies only when the screen is small AND the body has the 'test-page' class */
@media (max-width: 768px) {
    body.test-page .test-container {
        /* Allow the container to be flexible */
        display: flex;
        flex-direction: column;
    }

    body.test-page .passage-card {
        /* Allow the passage card to shrink but not grow too much */
        flex-grow: 0;
        flex-shrink: 1;
        /* Make the passage scrollable if it's too long */
        overflow-y: auto;
        /* Set a smaller max-height for mobile */
        max-height: 150px;
    }

    body.test-page textarea {
        /* Allow the textarea to grow and shrink */
        flex-grow: 1;
        flex-shrink: 1;
        min-height: 100px; /* Ensure it doesn't get too small */
    }
}

body.mobile-warning-active .dashboard-header {
    margin-top: 50px; /* Adjust this value to match your banner's height */
}

/* --- MODAL MOBILE OPTIMIZATION --- */
@media (max-height: 680px) {
    .modal-content {
        /* Allow the modal to shrink */
        height: 90vh;
        /* Make the modal a flex container to control its children */
        display: flex;
        flex-direction: column;
    }

    .modal-content section {
        /* Allow the main content area to scroll */
        overflow-y: auto;
        flex-grow: 1; /* Let it take up the available space */
        padding-right: 1rem; /* Add some space for the scrollbar */
    }

    .modal-content header,
    .modal-content footer {
        /* Prevent the header and footer from shrinking */
        flex-shrink: 0;
    }
}